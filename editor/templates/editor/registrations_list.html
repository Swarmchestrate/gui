{% extends 'base.html' %}
{% load helpers %}
{% block content %}
<h1>{{ title }}</h1>
<p>{{ description }}</p>
{% if not registrations %}
<p class="text-body-secondary">No {{ registration_type_name_plural|title }} have been registered.</p>
{% else %}
<div class="table-responsive">
    <table class="table">
        <thead>
            <tr>
                <th class="align-baseline px-3"></th>
                <th class="align-baseline px-3">ID</th>
                <th class="align-baseline px-3">Date Created</th>
                <th class="align-baseline px-3">Date Updated</th>
                <th class="align-baseline px-3">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for registration in registrations %}
            {% with registration_id=registration|get_key_value_or_blank_string:id_field %}
            <tr>
                <td class="align-baseline px-3">
                    <input
                        type="checkbox"
                        id="id_checkbox_{{ registration_id }}"
                        name="checkbox-{{ registration_id }}"
                        class="form-check-input">
                </td>
                <td class="font-monospace align-baseline px-3">{{ registration_id }}</td>
                <td class="align-baseline px-3">{{ registration.created_at|convert_str_date|date:'SHORT_DATE_FORMAT' }}</td>
                <td class="align-baseline px-3">{{ registration.updated_at|convert_str_date|date:'SHORT_DATE_FORMAT' }}</td>
                <td class="align-baseline px-3">
                    <div class="d-flex column-gap-2">
                        <a href="{% url editor_url_reverse_base registration_id %}" class="btn btn-light">Edit</a>
                    </div>
                </td>
            </tr>
            {% endwith %}
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}
{% endblock content %}