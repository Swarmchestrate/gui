<section>
    <fieldset class="vstack gap-2">
        <legend class="fs-6 fw-semibold mb-0">{{ section_field.label }}</legend>
        <p class="form-text">{{ section_field.help_text }}</p>
        {{ formset.management_form }}
        {% with table_id=formset.prefix|add:'-table' %}
        <div class="table-responsive">
            <table
                id="{{ table_id }}"
                class="table table-hover formset-table delete-disabled"
                data-formset-prefix="{{ formset.prefix }}">
                <thead>
                    <tr>
                        {% for field in formset.form %}
                        <th>{{ field.label }}</th>
                        {% endfor %}
                        <th>
                            <i class="bi bi-trash text-danger" title="Delete"></i>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for form in formset %}
                    {% include 'editor/util_templates/formset_table_row_template.html' %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="d-flex justify-content-between column-gap-2">
            <button
                id="{{ formset.prefix }}-table-add-row-btn"
                class="btn btn-sm btn-light formset-table-add-row-button"
                type="button"
                data-table-id="{{ table_id }}">
                <i class="bi bi-plus-lg"></i>
                Add Row
            </button>
            <button
                id="{{ formset.prefix }}-table-delete-rows-btn"
                class="btn btn-sm btn-outline-danger formset-table-delete-rows-button"
                type="button"
                data-bs-toggle="button"
                data-table-id="{{ table_id }}">
                <i class="bi bi-dash-lg"></i>
                Delete Rows
            </button>
        </div>
        {% endwith %}
    </fieldset>
</section>
